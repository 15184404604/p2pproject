"use strict";$(function(){$("#regform").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{validators:{notEmpty:{message:"用户名不能为空"},stringLength:{min:6,max:12,message:"用户名长度应为6~12位"},regexp:{regexp:/^[a-zA-Z0-9_]+$/,message:"用户名由数字字母下划线和.组成"}}},password:{validators:{notEmpty:{message:"密码不能为空"},stringLength:{min:6,max:18,message:"用户名长度应为6~18位"},different:{field:"username",message:"密码不能和用户名相同"}}},repeatPassword:{validators:{notEmpty:{message:"密码不能为空"},identical:{field:"password",message:"两次输入密码不一致"}}},phone:{validators:{notEmpty:{message:"手机号码不能为空"},stringlength:{min:11,max:11,message:"请输入11位手机号码"},regexp:{regexp:/^1[3|5|8]{1}[0-9]{9}$/,message:"请输入正确的手机号码"}}},email:{validators:{notEmpty:{message:"邮箱地址不能为空"},emailAddress:{message:"请输入正确的邮箱地址"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/userAdd.php",a,function(e){if(e.isSueecss){$("#msgShowTitel1").text("注册成功！"),$("#msgShowContent1").html('<span class="glyphicon glyphicon-ok"></span>'.concat(e.msg,',\n                    等待<span id="num1">3</span>秒后跳转到登录界面'));var s=3,a=setInterval(function(){s--,$("#num1").text(s),0==s&&(clearInterval(a),location.href="./Login.php")},1e3)}else $("#msgShowTitel1").text("注册失败！"),$("#msgShowContent1").html('<span class="glyphicon glyphicon-remove"></span>'.concat(e.msg));$("#msgShowModal1").modal("show")},"json")}),$("#loginform").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名不能为空"},stringLength:{min:6,max:18,message:"用户名长度必须在6到18位之间"},regexp:{regexp:/^[a-zA-Z0-9_]+$/,message:"用户名只能包含大写、小写、数字和下划线"}}},password:{validators:{notEmpty:{message:"密码不能为空"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/userCheck.php",a,function(e){if(e.isSueecss){$("#msgShowTitel2").text("登录成功！"),$("#msgShowContent2").html('<span class="glyphicon glyphicon-ok"></span>'.concat(e.msg,',\n                    等待<span id="num2">3</span>秒后跳转到您的个人中心'));var s=3,a=setInterval(function(){s--,$("#num2").text(s),0==s&&(clearInterval(a),location.href="./personal.php")},1e3)}else $("#msgShowTitel2").text("登录失败！"),$("#msgShowContent2").html('<span class="glyphicon glyphicon-remove"></span>'.concat(e.msg));$("#msgShowModal2").modal("show")},"json")})});